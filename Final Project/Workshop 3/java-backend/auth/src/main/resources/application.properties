# spring.application.name=auth-backend
# server.port=8083
# jwt.secret=DriverMasterSuperUltraSecretKey123456789!

# # ❌ LÍNEA CORREGIDA ABAJO ❌
# spring.datasource.url=jdbc:mysql://mysql-drivermaster:3306/DriverMaster?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
# spring.datasource.username=root
# spring.datasource.password=root
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Nombre de la aplicación y puerto
spring.application.name=auth-backend
server.port=8083

# JWT
jwt.secret=DriverMasterSuperUltraSecretKey123456789!

# Configuración de conexión a MySQL dentro de Docker
spring.datasource.url=jdbc:mysql://mysql-drivermaster:3306/DriverMaster?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP: espera hasta 30s a que la DB esté lista
spring.datasource.hikari.initializationFailTimeout=30000
spring.datasource.hikari.maximum-pool-size=10

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Opcional: retry en caso de fallos temporales de conexión
spring.datasource.test-on-borrow=true
spring.datasource.validation-query=SELECT 1
